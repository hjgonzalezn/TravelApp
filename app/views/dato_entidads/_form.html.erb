<%= form_for(@dato_entidad) do |f| %>
  <% if @dato_entidad.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@dato_entidad.errors.count, "error", "errores") %> no permite(n) que este registro sea grabado: </h2>

      <ul>
      <% @dato_entidad.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<div class="form_fields">
	<div class="form_column">
		<div class="field">
	    	<%= f.label :Categoria, "Categoría *" %><br>
	    	<%= f.text_field :ent_dato_categoria, options= {size:40, maxlength:40, required: :required, autofocus: :autofocus, "data-validation" => "length alphanumeric", "data-validation-allowing" => " ", "data-validation-length" => "min5"} %>
	  	</div>
		<div class="field">
	    	<%= f.label :Subcategoria, "Subcategoría" %><br>
	    	<%= f.text_field :ent_dato_subcategoria, options={size:40, maxlength:40, "data-validation" => "alphanumeric length", "data-validation-length" => "min5", "data-validation-optional" => "true"} %>
	  	</div>
	  	<div class="field">
	    	<%= f.label :Codigo, "Código *" %><br>
	    	<%= f.text_field :ent_dato_codigo, options={size:5, maxlength:5, required: :required, "data-validation" => "length alphanumeric", "data-validation-length" => "min3"} %>
	  	</div>
	  	<div class="field">
	    	<%= f.label :Descripcion, "Descripción *" %><br>	
	    	<%= f.text_field :ent_dato_descripcion, options= {size:50, maxlength:40, required: :required, "data-validation" => "length alphanumeric", "data-validation-allowing" => " ", "data-validation-length" => "min5"} %>
	  	</div>
	</div>
	<div class="form_column">
  		<div class="field">
    		<%= f.label :Valor, "Valor *" %>
    		<span id="max-length-valor">200</span> caracteres restantes
    		<%= f.text_area :ent_dato_valor, options={cols: 55, rows: 4, required: :required, "data-validation" => "length alphanumeric", "data-validation-allowing" => " _-.,", "data-validation-length" => "min5"} %>
  		</div>
  		<div class="field">
    		<%= f.label :Observacion %>
    		<span id="max-length-observacion">200</span> caracteres restantes
    		<%= f.text_area :ent_dato_observacion, cols: 55, rows: 3, "data-validation" => "length alphanumeric", "data-validation-allowing" => " _-.,", "data-validation-length" => "min5" %>
  		</div>
  		<div class="field">
    		<%= f.label :Estado_registro, "Estado registro*" %><br>
    		<%= f.text_field :ent_dato_estado_registro, options= {size:5, maxlength:1, required: :required, "data-validation" => "length alphanumeric", "data-validation-length" => "min1", "data-validation-optional" => "true" } %>
  		</div>
  	</div>
</div>

	<div class="bottom">
  		<div class="actions">
    		<% if action_name == "edit"%>
				<%= f.submit "Aceptar", class: "cmd save", id: :cmd_aceptar %> |
				<%= link_to 'Consultar', @dato_entidad, class: "cmd star", id: :cmd_consultar %> |
			<% elsif action_name == "new" or action_name =="create" %>
				<script>
					$(function(){
						$("#cmd_aceptar")
						.click(function(){
							$('#new_dato_entidad').submit();
						});
					});
				</script>
				
				<%= link_to "Aceptar", nil, class: "cmd save", id: :cmd_aceptar %> |
			<% end %>
			<%= link_to 'Regresar', dato_entidads_url, class: "cmd previous", id: :cmd_regresar %>
  		</div>
  	</div>
<% end %>
<script>
 	$.validate();
	$('#dato_entidad_ent_dato_valor').restrictLength( $('#max-length-valor'));
	$('#dato_entidad_ent_dato_observacion').restrictLength( $('#max-length-observacion'));
</script>