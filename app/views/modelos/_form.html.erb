<%= form_for(@modelo) do |f| %>
  <% if @modelo.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@modelo.errors.count, "error", "errores") %> no permite(n) que este registro sea grabado:</h2>

      <ul>
      <% @modelo.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
	<div class="form_fields">
  		<div class="field">
    		<%= f.label :mdl_codigo, "CÃ³digo *" %><br>
    		<%= f.text_field :mdl_codigo, options={size: 10, maxlength:5, required: :required, autofocus: :autofocus, "data-validation" => "length alphanumeric", "data-validation-length" => "min3"} %>
  		</div>
  		<div class="field">
    		<%= f.label :mdl_nombre, "Nombre *" %><br>
    		<%= f.text_field :mdl_nombre, options={size:50, maxlength:50, required: :required, "data-validation" => "length alphanumeric", "data-validation-length" => "min4" } %>
  		</div>
  		<div class="field">
    		<%= f.label :mdl_estado_registro, "Estado registro *" %><br>
    		<%= f.text_field :mdl_estado_registro , options= {maxlength:1, required: :required, "data-validation" => "length alphanumeric", "data-validation-length" => "min1"} %>
  		</div>
  	</div>
	<div class="bottom">
  		<div class="actions">
    		<% if action_name == "edit"%>
				<%= f.submit "Aceptar", class: "cmd save", id: :cmd_aceptar %> |
				<%= link_to 'Consultar', @modelo, class: "cmd star", id: :cmd_consultar %> |
			<% elsif action_name == "new" or action_name =="create" %>
				<script>
					$(function(){
						$("#cmd_aceptar")
						.click(function(){
							$('#new_modelo').submit();
						});
					});
				</script>
				<%= link_to "Aceptar", nil, class: "cmd save", id: :cmd_aceptar %> |
				
			<% end %>
			<%= link_to 'Regresar', modelos_url, class: "cmd previous", id: :cmd_regresar %>
  		</div>
  	</div>
<% end %>
<script> $.validate(); </script>
